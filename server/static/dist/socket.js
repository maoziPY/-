!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}({2:function(e,n){socket.on("server msg",function(e){vm.serverMsg(e)}),socket.on("login",function(){prompt?socket.emit("login","手机用户"):socket.emit("login",prompt("输入你的姓名")),btnIn.outAct(),canvas.isMe=!1,btnAutoin.disalbed=!1}),socket.on("paint paths",function(e){for(var n in e=JSON.parse(e),ctx.clearRect(0,0,canvas.width,canvas.height),e)"pts"===e[n].tag?Ctl.drawPts(ctx,e[n]):new Rect(e[n].x,e[n].y,e[n].w,e[n].h).clearOn(ctx)}),socket.on("paint pts",function(e){(e=JSON.parse(e))&&Ctl.drawPts(ctx,e)}),socket.on("cmd",function(e){}),socket.on("reset in users",function(e){e=JSON.parse(e),users.innerHTML="",e.forEach(e=>{users.appendChild(t.makeUserP(e))})}),socket.on("erase",function(e,n,t,r){new Rect(e,n,t,r).clearOn(ctx)}),socket.on("new in user",function(e){users.appendChild(t.makeUserP(JSON.parse(e)))}),socket.on("out user",function(e){var n=users.querySelector("#p"+e);n&&(n.outerHTML="")}),socket.on("in",function(e){users.appendChild(t.makeUserP(JSON.parse(e))),users.scrollTop=users.scrollHeight,btnIn.inAct()}),socket.on("out",function(e){var n=users.querySelector("#p"+e);n&&(n.outerHTML="",btnIn.outAct())}),socket.on("mytime",function(e){e=JSON.parse(e),btnIn.disabled=!0,info.player.innerText=e.name+"(自己)",info.time.innerText=e.time+"s",info.word.innerText=e.word,canvas.isMe=!0}),socket.on("othertime",function(e){e=JSON.parse(e),info.player.innerText=e.name,info.time.innerText=e.time+"s",canvas.isMe=!1}),socket.on("update time",function(e){e=JSON.parse(e),info.player.innerText=e.name,info.time.innerText=e.time+"s",info.word.innerText=e.word}),socket.on("update my time",function(e){e=JSON.parse(e),info.time.innerText=e.time+"s"}),socket.on("mytimeout",function(e){var n=users.querySelector("#p"+e);n&&(n.outerHTML=""),info.time.innerText="时间到了！",canvas.isMe=!1,btnIn.outAct()}),socket.on("timeout",function(e){e=JSON.parse(e);var n=users.querySelector("#p"+e.id);n&&(n.outerHTML=""),info.time.innerText="时间到了！",info.word.innerText="正确答案为："+e.word}),socket.on("clear paint",function(){ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height)}),socket.on("tops",function(e){e=JSON.parse(e),tops.innerHTML="";var n=tops.template;e.forEach((e,t)=>{n.id=e.id,n.children[0].firstElementChild.innerText="No"+(t+1),n.children[1].firstElementChild.innerText=e.name,n.children[2].firstElementChild.innerText=e.v+"次";var r=tops.template.cloneNode(!0);r.removeAttribute("role"),tops.appendChild(r)})});var t={makeUserP:function(e){var n=document.createElement("p");return n.id="p"+e.id,n.innerText=e.name,n}}}});